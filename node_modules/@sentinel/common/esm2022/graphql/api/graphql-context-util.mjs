import { HttpHeaders } from '@angular/common/http';
const IGNORE_ERROR_MESSAGE_ATTR = 'ignoreErrorMessage';
export function createApolloContextIgnoreErrorMessage(ignore) {
    return { [IGNORE_ERROR_MESSAGE_ATTR]: ignore };
}
export function retrieveApolloContextIgnoreErrorMessage(context) {
    if (context[IGNORE_ERROR_MESSAGE_ATTR] !== undefined) {
        return context[IGNORE_ERROR_MESSAGE_ATTR];
    }
    else {
        return false;
    }
}
const ERROR_TITLE_ATTR = 'errorTitle';
export function createApolloContextErrorTitle(title) {
    return { [ERROR_TITLE_ATTR]: title };
}
export function retrieveApolloContextErrorTitle(context) {
    if (context[ERROR_TITLE_ATTR] !== undefined) {
        return context[ERROR_TITLE_ATTR];
    }
    else {
        return 'Unknown operation';
    }
}
export const RETRYABLE_ATTR = 'retryable';
export function createApolloContextRetryable(value) {
    return { [RETRYABLE_ATTR]: value };
}
export function retrieveApolloContextRetryable(context) {
    if (context[RETRYABLE_ATTR] !== undefined) {
        return context[RETRYABLE_ATTR];
    }
    else {
        return false;
    }
}
export function wrapApolloContextForFileUpload(currContext) {
    currContext.useMultipart = true;
    if (currContext.headers) {
        currContext.headers = currContext.headers.append('Apollo-Require-Preflight', `true`);
    }
    else {
        currContext.headers = new HttpHeaders().set('Apollo-Require-Preflight', `true`);
    }
    return currContext;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JhcGhxbC1jb250ZXh0LXV0aWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zZW50aW5lbC1jb21tb24vZ3JhcGhxbC9zcmMvYXBpL2dyYXBocWwtY29udGV4dC11dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUVuRCxNQUFNLHlCQUF5QixHQUFHLG9CQUFvQixDQUFDO0FBRXZELE1BQU0sVUFBVSxxQ0FBcUMsQ0FBQyxNQUFlO0lBQ25FLE9BQU8sRUFBRSxDQUFDLHlCQUF5QixDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUM7QUFDakQsQ0FBQztBQUVELE1BQU0sVUFBVSx1Q0FBdUMsQ0FBQyxPQUF1QjtJQUM3RSxJQUFJLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ3JELE9BQU8sT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDNUMsQ0FBQztTQUFNLENBQUM7UUFDTixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxnQkFBZ0IsR0FBRyxZQUFZLENBQUM7QUFFdEMsTUFBTSxVQUFVLDZCQUE2QixDQUFDLEtBQWE7SUFDekQsT0FBTyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQztBQUN2QyxDQUFDO0FBRUQsTUFBTSxVQUFVLCtCQUErQixDQUFDLE9BQXVCO0lBQ3JFLElBQUksT0FBTyxDQUFDLGdCQUFnQixDQUFDLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDNUMsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNuQyxDQUFDO1NBQU0sQ0FBQztRQUNOLE9BQU8sbUJBQW1CLENBQUM7SUFDN0IsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUFDO0FBRTFDLE1BQU0sVUFBVSw0QkFBNEIsQ0FBQyxLQUFjO0lBQ3pELE9BQU8sRUFBRSxDQUFDLGNBQWMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDO0FBQ3JDLENBQUM7QUFFRCxNQUFNLFVBQVUsOEJBQThCLENBQUMsT0FBdUI7SUFDcEUsSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDMUMsT0FBTyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDakMsQ0FBQztTQUFNLENBQUM7UUFDTixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLDhCQUE4QixDQUFDLFdBQTJCO0lBQ3hFLFdBQVcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO0lBQ2hDLElBQUksV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3hCLFdBQVcsQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsMEJBQTBCLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdkYsQ0FBQztTQUFNLENBQUM7UUFDTixXQUFXLENBQUMsT0FBTyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFDRCxPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVmYXVsdENvbnRleHQgfSBmcm9tICdAYXBvbGxvL2NsaWVudC9jb3JlL3R5cGVzJztcbmltcG9ydCB7IEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5jb25zdCBJR05PUkVfRVJST1JfTUVTU0FHRV9BVFRSID0gJ2lnbm9yZUVycm9yTWVzc2FnZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcG9sbG9Db250ZXh0SWdub3JlRXJyb3JNZXNzYWdlKGlnbm9yZTogYm9vbGVhbik6IERlZmF1bHRDb250ZXh0IHtcbiAgcmV0dXJuIHsgW0lHTk9SRV9FUlJPUl9NRVNTQUdFX0FUVFJdOiBpZ25vcmUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlQXBvbGxvQ29udGV4dElnbm9yZUVycm9yTWVzc2FnZShjb250ZXh0OiBEZWZhdWx0Q29udGV4dCk6IGJvb2xlYW4ge1xuICBpZiAoY29udGV4dFtJR05PUkVfRVJST1JfTUVTU0FHRV9BVFRSXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNvbnRleHRbSUdOT1JFX0VSUk9SX01FU1NBR0VfQVRUUl07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IEVSUk9SX1RJVExFX0FUVFIgPSAnZXJyb3JUaXRsZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcG9sbG9Db250ZXh0RXJyb3JUaXRsZSh0aXRsZTogc3RyaW5nKTogRGVmYXVsdENvbnRleHQge1xuICByZXR1cm4geyBbRVJST1JfVElUTEVfQVRUUl06IHRpdGxlIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXRyaWV2ZUFwb2xsb0NvbnRleHRFcnJvclRpdGxlKGNvbnRleHQ6IERlZmF1bHRDb250ZXh0KTogc3RyaW5nIHtcbiAgaWYgKGNvbnRleHRbRVJST1JfVElUTEVfQVRUUl0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBjb250ZXh0W0VSUk9SX1RJVExFX0FUVFJdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnVW5rbm93biBvcGVyYXRpb24nO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBSRVRSWUFCTEVfQVRUUiA9ICdyZXRyeWFibGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXBvbGxvQ29udGV4dFJldHJ5YWJsZSh2YWx1ZTogYm9vbGVhbik6IERlZmF1bHRDb250ZXh0IHtcbiAgcmV0dXJuIHsgW1JFVFJZQUJMRV9BVFRSXTogdmFsdWUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlQXBvbGxvQ29udGV4dFJldHJ5YWJsZShjb250ZXh0OiBEZWZhdWx0Q29udGV4dCk6IGJvb2xlYW4ge1xuICBpZiAoY29udGV4dFtSRVRSWUFCTEVfQVRUUl0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBjb250ZXh0W1JFVFJZQUJMRV9BVFRSXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBBcG9sbG9Db250ZXh0Rm9yRmlsZVVwbG9hZChjdXJyQ29udGV4dDogRGVmYXVsdENvbnRleHQpOiBEZWZhdWx0Q29udGV4dCB7XG4gIGN1cnJDb250ZXh0LnVzZU11bHRpcGFydCA9IHRydWU7XG4gIGlmIChjdXJyQ29udGV4dC5oZWFkZXJzKSB7XG4gICAgY3VyckNvbnRleHQuaGVhZGVycyA9IGN1cnJDb250ZXh0LmhlYWRlcnMuYXBwZW5kKCdBcG9sbG8tUmVxdWlyZS1QcmVmbGlnaHQnLCBgdHJ1ZWApO1xuICB9IGVsc2Uge1xuICAgIGN1cnJDb250ZXh0LmhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ0Fwb2xsby1SZXF1aXJlLVByZWZsaWdodCcsIGB0cnVlYCk7XG4gIH1cbiAgcmV0dXJuIGN1cnJDb250ZXh0O1xufVxuIl19