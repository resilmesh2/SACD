export class ResponseHeaderContentDispositionReader {
    static getFilenameFromResponse(resp, defaultFilename) {
        const contentDispHeader = resp.headers.get('content-disposition');
        if (!contentDispHeader) {
            return defaultFilename;
        }
        const splitOnSeparator = defaultFilename.split(';');
        if (splitOnSeparator.length <= 1) {
            return defaultFilename;
        }
        const splitOnKeyword = splitOnSeparator[1].split('filename');
        if (splitOnKeyword.length <= 1) {
            return defaultFilename;
        }
        const splitOnEqualSign = splitOnKeyword[1].split('=');
        if (splitOnEqualSign.length <= 1) {
            return defaultFilename;
        }
        return splitOnEqualSign[1].trim();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzcG9uc2UtaGVhZGVyLWNvbnRlbnQtZGlzcG9zaXRpb24tcmVhZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc2VudGluZWwtY29tbW9uL3NyYy9tb2RlbC9odHRwL3Jlc3BvbnNlLWhlYWRlcnMvcmVzcG9uc2UtaGVhZGVyLWNvbnRlbnQtZGlzcG9zaXRpb24tcmVhZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxzQ0FBc0M7SUFDakQsTUFBTSxDQUFDLHVCQUF1QixDQUFDLElBQTJCLEVBQUUsZUFBdUI7UUFDakYsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3ZCLE9BQU8sZUFBZSxDQUFDO1FBQ3pCLENBQUM7UUFDRCxNQUFNLGdCQUFnQixHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEQsSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDakMsT0FBTyxlQUFlLENBQUM7UUFDekIsQ0FBQztRQUNELE1BQU0sY0FBYyxHQUFHLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3RCxJQUFJLGNBQWMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDL0IsT0FBTyxlQUFlLENBQUM7UUFDekIsQ0FBQztRQUNELE1BQU0sZ0JBQWdCLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0RCxJQUFJLGdCQUFnQixDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNqQyxPQUFPLGVBQWUsQ0FBQztRQUN6QixDQUFDO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmV4cG9ydCBjbGFzcyBSZXNwb25zZUhlYWRlckNvbnRlbnREaXNwb3NpdGlvblJlYWRlciB7XG4gIHN0YXRpYyBnZXRGaWxlbmFtZUZyb21SZXNwb25zZShyZXNwOiBIdHRwUmVzcG9uc2U8dW5rbm93bj4sIGRlZmF1bHRGaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBjb250ZW50RGlzcEhlYWRlciA9IHJlc3AuaGVhZGVycy5nZXQoJ2NvbnRlbnQtZGlzcG9zaXRpb24nKTtcbiAgICBpZiAoIWNvbnRlbnREaXNwSGVhZGVyKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdEZpbGVuYW1lO1xuICAgIH1cbiAgICBjb25zdCBzcGxpdE9uU2VwYXJhdG9yID0gZGVmYXVsdEZpbGVuYW1lLnNwbGl0KCc7Jyk7XG4gICAgaWYgKHNwbGl0T25TZXBhcmF0b3IubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0RmlsZW5hbWU7XG4gICAgfVxuICAgIGNvbnN0IHNwbGl0T25LZXl3b3JkID0gc3BsaXRPblNlcGFyYXRvclsxXS5zcGxpdCgnZmlsZW5hbWUnKTtcbiAgICBpZiAoc3BsaXRPbktleXdvcmQubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0RmlsZW5hbWU7XG4gICAgfVxuICAgIGNvbnN0IHNwbGl0T25FcXVhbFNpZ24gPSBzcGxpdE9uS2V5d29yZFsxXS5zcGxpdCgnPScpO1xuICAgIGlmIChzcGxpdE9uRXF1YWxTaWduLmxlbmd0aCA8PSAxKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdEZpbGVuYW1lO1xuICAgIH1cbiAgICByZXR1cm4gc3BsaXRPbkVxdWFsU2lnblsxXS50cmltKCk7XG4gIH1cbn1cbiJdfQ==