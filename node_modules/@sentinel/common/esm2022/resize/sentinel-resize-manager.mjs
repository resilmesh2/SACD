import { SentinelResizeObserver } from './sentinel-resize-observer';
export class SentinelResizeManager {
    constructor(observerThrottleTime = 90) {
        this.observerThrottleTime = observerThrottleTime;
        this._buffer = new Map();
    }
    observe(target, throttleTime = this.observerThrottleTime) {
        const observer = this._buffer.get(target);
        if (observer) {
            return observer;
        }
        else {
            const newObserver = new SentinelResizeObserver(target, throttleTime);
            this._buffer.set(target, newObserver);
            return newObserver;
        }
    }
    get root() {
        return this.observe(window);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VudGluZWwtcmVzaXplLW1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9zZW50aW5lbC1jb21tb24vcmVzaXplL3NyYy9zZW50aW5lbC1yZXNpemUtbWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW1CLHNCQUFzQixFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFckYsTUFBTSxPQUFPLHFCQUFxQjtJQUdoQyxZQUFvQix1QkFBK0IsRUFBRTtRQUFqQyx5QkFBb0IsR0FBcEIsb0JBQW9CLENBQWE7UUFGN0MsWUFBTyxHQUFHLElBQUksR0FBRyxFQUEyQyxDQUFDO0lBRWIsQ0FBQztJQUVsRCxPQUFPLENBQUMsTUFBdUIsRUFBRSxZQUFZLEdBQUcsSUFBSSxDQUFDLG9CQUFvQjtRQUM5RSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQyxJQUFJLFFBQVEsRUFBRSxDQUFDO1lBQ2IsT0FBTyxRQUFRLENBQUM7UUFDbEIsQ0FBQzthQUFNLENBQUM7WUFDTixNQUFNLFdBQVcsR0FBRyxJQUFJLHNCQUFzQixDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDdEMsT0FBTyxXQUFXLENBQUM7UUFDckIsQ0FBQztJQUNILENBQUM7SUFFRCxJQUFXLElBQUk7UUFDYixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDOUIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXphYmxlVGFyZ2V0LCBTZW50aW5lbFJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi9zZW50aW5lbC1yZXNpemUtb2JzZXJ2ZXInO1xuXG5leHBvcnQgY2xhc3MgU2VudGluZWxSZXNpemVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBfYnVmZmVyID0gbmV3IE1hcDxSZXNpemFibGVUYXJnZXQsIFNlbnRpbmVsUmVzaXplT2JzZXJ2ZXI+KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBvYnNlcnZlclRocm90dGxlVGltZTogbnVtYmVyID0gOTApIHt9XG5cbiAgcHVibGljIG9ic2VydmUodGFyZ2V0OiBSZXNpemFibGVUYXJnZXQsIHRocm90dGxlVGltZSA9IHRoaXMub2JzZXJ2ZXJUaHJvdHRsZVRpbWUpOiBTZW50aW5lbFJlc2l6ZU9ic2VydmVyIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMuX2J1ZmZlci5nZXQodGFyZ2V0KTtcbiAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmV3T2JzZXJ2ZXIgPSBuZXcgU2VudGluZWxSZXNpemVPYnNlcnZlcih0YXJnZXQsIHRocm90dGxlVGltZSk7XG4gICAgICB0aGlzLl9idWZmZXIuc2V0KHRhcmdldCwgbmV3T2JzZXJ2ZXIpO1xuICAgICAgcmV0dXJuIG5ld09ic2VydmVyO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXQgcm9vdCgpOiBTZW50aW5lbFJlc2l6ZU9ic2VydmVyIHtcbiAgICByZXR1cm4gdGhpcy5vYnNlcnZlKHdpbmRvdyk7XG4gIH1cbn1cbiJdfQ==