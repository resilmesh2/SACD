import { BehaviorSubject } from 'rxjs';
/**
 * Contains subjects and observables typically used when handling paginated data.
 * Subscribe to resource$ to receive latest data updates.
 */
export class PaginatedElementsService {
    constructor(pageSize = 10) {
        /**
         * True if server returned error response on the latest request, false otherwise
         * Change internally in extending service. Client should subscribe to the observable
         */
        this.hasErrorSubject$ = new BehaviorSubject(false);
        /**
         * True if server returned error response on the latest request, false otherwise
         * @contract must be updated every time new data are received
         */
        this.hasError$ = this.hasErrorSubject$.asObservable();
        /**
         * True if response to the latest request was not yet received
         * Change internally in extending service. Client should subscribe to the observable
         */
        this.isLoadingSubject$ = new BehaviorSubject(false);
        /**
         * True if response to the latest request was not yet received
         * @contract must be updated every time new data are received
         */
        this.isLoading$ = this.isLoadingSubject$.asObservable();
        this.resourceSubject$ = new BehaviorSubject(this.initSubject(pageSize));
        this.resource$ = this.resourceSubject$.asObservable();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnaW5hdGVkLWVsZW1lbnRzLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zZW50aW5lbC1jb21tb24vc3JjL3NlcnZpY2VzL3BhZ2luYXRlZC1lbGVtZW50cy9wYWdpbmF0ZWQtZWxlbWVudHMuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBR25EOzs7R0FHRztBQUNILE1BQU0sT0FBZ0Isd0JBQXdCO0lBQzVDLFlBQXNCLFFBQVEsR0FBRyxFQUFFO1FBT25DOzs7V0FHRztRQUNPLHFCQUFnQixHQUE2QixJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsRjs7O1dBR0c7UUFDSCxjQUFTLEdBQXdCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUV0RTs7O1dBR0c7UUFDTyxzQkFBaUIsR0FBNkIsSUFBSSxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkY7OztXQUdHO1FBQ0gsZUFBVSxHQUF3QixJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUM7UUExQnRFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEQsQ0FBQztDQXVDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSVBhZ2luYXRlZEVsZW1lbnRzIH0gZnJvbSAnQHNlbnRpbmVsL2NvbW1vbi9wYWdpbmF0aW9uJztcblxuLyoqXG4gKiBDb250YWlucyBzdWJqZWN0cyBhbmQgb2JzZXJ2YWJsZXMgdHlwaWNhbGx5IHVzZWQgd2hlbiBoYW5kbGluZyBwYWdpbmF0ZWQgZGF0YS5cbiAqIFN1YnNjcmliZSB0byByZXNvdXJjZSQgdG8gcmVjZWl2ZSBsYXRlc3QgZGF0YSB1cGRhdGVzLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUGFnaW5hdGVkRWxlbWVudHNTZXJ2aWNlPFQ+IHtcbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHBhZ2VTaXplID0gMTApIHtcbiAgICB0aGlzLnJlc291cmNlU3ViamVjdCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHRoaXMuaW5pdFN1YmplY3QocGFnZVNpemUpKTtcbiAgICB0aGlzLnJlc291cmNlJCA9IHRoaXMucmVzb3VyY2VTdWJqZWN0JC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBpbml0U3ViamVjdChwYWdlU2l6ZTogbnVtYmVyKTogSVBhZ2luYXRlZEVsZW1lbnRzPFQ+O1xuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHNlcnZlciByZXR1cm5lZCBlcnJvciByZXNwb25zZSBvbiB0aGUgbGF0ZXN0IHJlcXVlc3QsIGZhbHNlIG90aGVyd2lzZVxuICAgKiBDaGFuZ2UgaW50ZXJuYWxseSBpbiBleHRlbmRpbmcgc2VydmljZS4gQ2xpZW50IHNob3VsZCBzdWJzY3JpYmUgdG8gdGhlIG9ic2VydmFibGVcbiAgICovXG4gIHByb3RlY3RlZCBoYXNFcnJvclN1YmplY3QkOiBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4gPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGZhbHNlKTtcbiAgLyoqXG4gICAqIFRydWUgaWYgc2VydmVyIHJldHVybmVkIGVycm9yIHJlc3BvbnNlIG9uIHRoZSBsYXRlc3QgcmVxdWVzdCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqIEBjb250cmFjdCBtdXN0IGJlIHVwZGF0ZWQgZXZlcnkgdGltZSBuZXcgZGF0YSBhcmUgcmVjZWl2ZWRcbiAgICovXG4gIGhhc0Vycm9yJDogT2JzZXJ2YWJsZTxib29sZWFuPiA9IHRoaXMuaGFzRXJyb3JTdWJqZWN0JC5hc09ic2VydmFibGUoKTtcblxuICAvKipcbiAgICogVHJ1ZSBpZiByZXNwb25zZSB0byB0aGUgbGF0ZXN0IHJlcXVlc3Qgd2FzIG5vdCB5ZXQgcmVjZWl2ZWRcbiAgICogQ2hhbmdlIGludGVybmFsbHkgaW4gZXh0ZW5kaW5nIHNlcnZpY2UuIENsaWVudCBzaG91bGQgc3Vic2NyaWJlIHRvIHRoZSBvYnNlcnZhYmxlXG4gICAqL1xuICBwcm90ZWN0ZWQgaXNMb2FkaW5nU3ViamVjdCQ6IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPiA9IG5ldyBCZWhhdmlvclN1YmplY3QoZmFsc2UpO1xuICAvKipcbiAgICogVHJ1ZSBpZiByZXNwb25zZSB0byB0aGUgbGF0ZXN0IHJlcXVlc3Qgd2FzIG5vdCB5ZXQgcmVjZWl2ZWRcbiAgICogQGNvbnRyYWN0IG11c3QgYmUgdXBkYXRlZCBldmVyeSB0aW1lIG5ldyBkYXRhIGFyZSByZWNlaXZlZFxuICAgKi9cbiAgaXNMb2FkaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPiA9IHRoaXMuaXNMb2FkaW5nU3ViamVjdCQuYXNPYnNlcnZhYmxlKCk7XG5cbiAgLyoqXG4gICAqIFBhZ2luYXRlZCByZXNvdXJjZSBjb250YWluaW5nIHBhZ2luYXRpb24gaW5mbyBhbmQgcmV0cmlldmVkIGVsZW1lbnRzIG9mIGdlbmVyaWMgdHlwZS4gQ2hhbmdlIGludGVybmFsbHkgaW4gZXh0ZW5kaW5nIHNlcnZpY2UuXG4gICAqIENsaWVudCBzaG91bGQgc3Vic2NyaWJlIHRvIHRoZSBvYnNlcnZhYmxlXG4gICAqIEBjb250cmFjdCBtdXN0IGJlIHVwZGF0ZWQgZXZlcnkgdGltZSBuZXcgZGF0YSBhcmUgcmVjZWl2ZWRcbiAgICovXG4gIHByb3RlY3RlZCByZXNvdXJjZVN1YmplY3QkOiBCZWhhdmlvclN1YmplY3Q8SVBhZ2luYXRlZEVsZW1lbnRzPFQ+PjtcblxuICAvKipcbiAgICogUGFnaW5hdGVkIHJlc291cmNlIGNvbnRhaW5pbmcgcGFnaW5hdGlvbiBpbmZvIGFuZCByZXRyaWV2ZWQgZWxlbWVudHMgb2YgZ2VuZXJpYyB0eXBlLiBDaGFuZ2UgaW50ZXJuYWxseSBpbiBleHRlbmRpbmcgc2VydmljZS5cbiAgICogQ2xpZW50IHNob3VsZCBzdWJzY3JpYmUgdG8gdGhlIG9ic2VydmFibGVcbiAgICogQGNvbnRyYWN0IG11c3QgYmUgdXBkYXRlZCBldmVyeSB0aW1lIG5ldyBkYXRhIGFyZSByZWNlaXZlZFxuICAgKi9cbiAgcmVzb3VyY2UkOiBPYnNlcnZhYmxlPElQYWdpbmF0ZWRFbGVtZW50czxUPj47XG59XG4iXX0=