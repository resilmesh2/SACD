import { AsyncPipe } from '@angular/common';
import { Pipe } from '@angular/core';
import * as i0 from "@angular/core";
/**
 * Uses async pipe internally but retypes null to undefined as this is more in line with TypeScript optional attributes
 * and results in less retyping and boilerplate if strict checking is active. It also allows to provide default value
 * for cases where undefined type is not possible/desired.
 */
export class SentinelAsyncPipe extends AsyncPipe {
    transform(obj, defaultValue) {
        const asyncPipeResult = super.transform(obj);
        if (asyncPipeResult !== undefined && asyncPipeResult !== null) {
            return asyncPipeResult;
        }
        else {
            if (defaultValue) {
                return defaultValue;
            }
            else {
                return undefined;
            }
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.0.0", ngImport: i0, type: SentinelAsyncPipe, deps: null, target: i0.ɵɵFactoryTarget.Pipe }); }
    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "14.0.0", version: "18.0.0", ngImport: i0, type: SentinelAsyncPipe, name: "sAsync", pure: false }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.0.0", ngImport: i0, type: SentinelAsyncPipe, decorators: [{
            type: Pipe,
            args: [{ name: 'sAsync', pure: false }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VudGluZWwtYXN5bmMucGlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL3NlbnRpbmVsLWNvbW1vbi9waXBlcy9zcmMvc2VudGluZWwtYXN5bmMucGlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDNUMsT0FBTyxFQUFFLElBQUksRUFBaUIsTUFBTSxlQUFlLENBQUM7O0FBR3BEOzs7O0dBSUc7QUFFSCxNQUFNLE9BQU8saUJBQWtCLFNBQVEsU0FBUztJQU85QyxTQUFTLENBQUksR0FBa0QsRUFBRSxZQUFnQjtRQUMvRSxNQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLElBQUksZUFBZSxLQUFLLFNBQVMsSUFBSSxlQUFlLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDOUQsT0FBTyxlQUFlLENBQUM7UUFDekIsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLFlBQVksRUFBRSxDQUFDO2dCQUNqQixPQUFPLFlBQVksQ0FBQztZQUN0QixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sT0FBTyxTQUFTLENBQUM7WUFDbkIsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDOzhHQWxCVSxpQkFBaUI7NEdBQWpCLGlCQUFpQjs7MkZBQWpCLGlCQUFpQjtrQkFEN0IsSUFBSTttQkFBQyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jUGlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbi8qKlxuICogVXNlcyBhc3luYyBwaXBlIGludGVybmFsbHkgYnV0IHJldHlwZXMgbnVsbCB0byB1bmRlZmluZWQgYXMgdGhpcyBpcyBtb3JlIGluIGxpbmUgd2l0aCBUeXBlU2NyaXB0IG9wdGlvbmFsIGF0dHJpYnV0ZXNcbiAqIGFuZCByZXN1bHRzIGluIGxlc3MgcmV0eXBpbmcgYW5kIGJvaWxlcnBsYXRlIGlmIHN0cmljdCBjaGVja2luZyBpcyBhY3RpdmUuIEl0IGFsc28gYWxsb3dzIHRvIHByb3ZpZGUgZGVmYXVsdCB2YWx1ZVxuICogZm9yIGNhc2VzIHdoZXJlIHVuZGVmaW5lZCB0eXBlIGlzIG5vdCBwb3NzaWJsZS9kZXNpcmVkLlxuICovXG5AUGlwZSh7IG5hbWU6ICdzQXN5bmMnLCBwdXJlOiBmYWxzZSB9KVxuZXhwb3J0IGNsYXNzIFNlbnRpbmVsQXN5bmNQaXBlIGV4dGVuZHMgQXN5bmNQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG4gIHRyYW5zZm9ybTxUPihvYmo6IE9ic2VydmFibGU8VD4gfCBQcm9taXNlPFQ+KTogVCB8IHVuZGVmaW5lZDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICB0cmFuc2Zvcm08VD4ob2JqOiBudWxsIHwgdW5kZWZpbmVkKTogdW5kZWZpbmVkO1xuICB0cmFuc2Zvcm08VD4ob2JqOiBPYnNlcnZhYmxlPFQ+IHwgUHJvbWlzZTxUPiB8IG51bGwgfCB1bmRlZmluZWQpOiBUIHwgdW5kZWZpbmVkO1xuICB0cmFuc2Zvcm08VD4ob2JqOiBPYnNlcnZhYmxlPFQ+IHwgUHJvbWlzZTxUPiB8IG51bGwgfCB1bmRlZmluZWQsIGRlZmF1bHRWYWx1ZT86IFQpOiBUO1xuXG4gIHRyYW5zZm9ybTxUPihvYmo6IE9ic2VydmFibGU8VD4gfCBQcm9taXNlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCwgZGVmYXVsdFZhbHVlPzogVCk6IFQgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGFzeW5jUGlwZVJlc3VsdCA9IHN1cGVyLnRyYW5zZm9ybShvYmopO1xuICAgIGlmIChhc3luY1BpcGVSZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBhc3luY1BpcGVSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBhc3luY1BpcGVSZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=