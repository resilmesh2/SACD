import { ApolloQueryResult } from '@apollo/client/core';
import { WatchQueryFetchPolicy } from '@apollo/client/core/watchQueryOptions';
import * as Apollo from 'apollo-angular';
import { QueryRef } from 'apollo-angular';
import { BehaviorSubject, Observable } from 'rxjs';
import { OperationVariables } from '@apollo/client/core/types';
export interface ApolloQueryServiceOptions {
    fetchPolicy?: WatchQueryFetchPolicy;
    pollInterval?: number;
    retryable?: boolean;
    ignoreErrorMessage?: boolean;
}
export declare abstract class ApolloQueryService<Query, QueryVariables extends OperationVariables, Data, UpdateVariables> {
    getQuery: Apollo.Query<Query, QueryVariables>;
    queryRef?: QueryRef<Query, QueryVariables>;
    operationName: string;
    data$: Observable<Data>;
    isLoading$: Observable<boolean>;
    isRefetching$: Observable<boolean>;
    hasError$?: Observable<boolean>;
    protected loadingInternal$?: Observable<boolean>;
    protected hasErrorInternal$?: Observable<boolean>;
    protected variables?: QueryVariables;
    protected initialized$: BehaviorSubject<boolean>;
    private isInErrorState;
    private options;
    protected abstract toData(queryRes: ApolloQueryResult<Query>): Data;
    protected constructor(getQuery: Apollo.Query<Query, QueryVariables>, operationName: string, options?: ApolloQueryServiceOptions);
    recoverAfterError(): void;
    protected abstract createVariables(args: UpdateVariables): QueryVariables;
    protected initialize(): void;
    protected initQueryWatch(): void;
    update(updateVariables: UpdateVariables): void;
    refetch(updateVariables: UpdateVariables): void;
    protected initLoading(): void;
    protected initHasError(): void;
    protected hasError(queryRes: ApolloQueryResult<Query>): boolean;
}
