<h2 mat-dialog-title>{{ title() }}</h2>
<mat-dialog-content>
    <mat-label for="subnetRange">Subnet range:</mat-label>
    <mat-form-field id="subnetRange">
        <input matInput required placeholder="" [(ngModel)]="range" />
    </mat-form-field>

    <mat-label for="subnetNote">Subnet note:</mat-label>
    <mat-form-field id="subnetNote">
        <input matInput placeholder="" [(ngModel)]="note" />
    </mat-form-field>

    <mat-label for="parentSubnet">Parent subnet:</mat-label>
    <mat-form-field id="parentSubnet">
        <mat-select [(value)]="parentSubnet">
            <mat-option value="null">---</mat-option>
            @for (subnet of allSubnets(); track subnet.range) {
            <mat-option [value]="subnet.range">{{subnet.range}}</mat-option>
            }
        </mat-select>
    </mat-form-field>
    <mat-label for="orgUnit">Organizational unit:</mat-label>
    <mat-form-field id="orgUnit">
        <mat-select [(value)]="orgUnit">
            <mat-option value="null">---</mat-option>
            @for (orgUnit of allOrgUnits(); track orgUnit) {
            <mat-option [value]="orgUnit.name">{{orgUnit.name}}</mat-option>
            }
        </mat-select>
    </mat-form-field>
    <chips-contacts [(contacts)]="contacts"></chips-contacts>
</mat-dialog-content>
<mat-dialog-actions>
    <button mat-button mat-dialog-close>Cancel</button>
    @if (data.mode === 'edit') {
        <sentinel-button-with-icon
            color="primary"
            icon="save"
            tooltip=""
            (click)="editSubnet()"
            mat-dialog-close
            cdkFocusInitial
        >
            Save
        </sentinel-button-with-icon>
    } @else if (data.mode === 'insert') {
        <sentinel-button-with-icon
            color="primary"
            icon="add"
            tooltip=""
            (click)="insertSubnet()"
            cdkFocusInitial
            [disabled]="!range()"
        >
            Insert
        </sentinel-button-with-icon>
        <!-- <button mat-button mat-dialog-close cdkFocusInitial (click)="insertSubnet()" [disabled]="!range">
            Insert
        </button> -->
    }
</mat-dialog-actions>


<style>
    h2[mat-dialog-title] {
        font-size: 1.5em;
    }

    mat-dialog-content {
        display: flex;
        flex-direction: column;
        gap: 1em;
        padding: 1em;
        margin-top: 2em;
    }

    mat-dialog-actions.mat-mdc-dialog-actions {
        display: flex;
        justify-content: flex-end;
        padding: 0px 24px 20px;
        gap: 1em;
    }

</style>